[<tag id="resourcepath" type="meta" value="/DesktopModules/NBright/NBrightPL/App_LocalResources/" />]

<script type="text/javascript" src="/DesktopModules/NBright/NBrightPL/Themes/config/js/nbrightplajax.js"></script>
<script type="text/javascript" src="/DesktopModules/NBright/NBrightData/js/jquery.genxmlajax.js"></script>

<script type="text/javascript" src="/DesktopModules/NBright/NBrightData/bootstrap/js/bootstrap.min.js"></script>

<link href="/DesktopModules/NBright/NBrightData/bootstrap/css/bootstrap.min.css" rel="stylesheet" />



<script type="text/javascript">

    $(document).ready(function () {

        $('.tabclass').change(function () {
            $('.processing').show();
            $('input[[id*="_itemid_"]]').val($(this).val());
            nbxget('getformdata', '#selectparams', '#tablanguagefields');
            nbxget('getbasedata', '#selectparams', '#tabbaselanguagefields');
            $('input[[id*="_baselangtrans_"]]').val($('input[[id*="_baselang_"]]'));

            $('.tabupdate').show();
            $('#savetabdata').show();
        });

        $('#savetabdata').click(function () {
            $('.processing').show();
            nbxget('saveformdata', '#tablanguagefields');
        });

        $('.selecteditlanguage').click(function () {
            $('.processing').show();
            nbxget('saveformdata', '#tablanguagefields');
            $('input[[id*="_selectlang_"]]').val($(this).attr('lang'));
            nbxget('getformdata', '#selectparams', '#tablanguagefields');
        });

        $('.selectbaselanguage').click(function () {
            $('.processing').show();
            $('input[[id*="_baselang_"]]').val($(this).attr('lang'));
            $('input[[id*="_baselangtrans_"]]').val($(this).attr('lang'));
            nbxget('getbasedata', '#selectparams', '#tabbaselanguagefields');
        });        

        $('#translatelanguage').click(function () {
            $('.processing').show();
            $('input[[id*="_baselangtrans_"]]').val($('input[[id*="_baselangfortrans_"]]').val());
            nbxget('translate', '#tablanguagefields', '#tablanguagefields');
        });

        $('#tablanguagefields').change(function () {
            if ($(this).html() == 'reload') {
                $('.processing').show();
                nbxget('getformdata', '#selectparams', '#tablanguagefields');
            }
        });
        
        $('#savesettings').click(function () {
            nbxget('savesetting', '#settings');
        });

        $('a[[data-toggle="tab"]]').click(function (e) {
            if ($(this).attr('href') == '#settingsdiv') {
                nbxget('getsetting', '#selectparams', '#settings');
            }
        });
        $('#tablist a').first().tab('show');

    });



    $(document).on("nbxgetcompleted", nbxgetCompleted);

    function nbxgetCompleted(e) {
        lockedit();
        $('input[[id*="_lock_"]]').change(function () {
            lockedit();
        });
        if ($('input[[id*="_langfortranslate_"]]').val() == $('input[[id*="_baselangfortrans_"]]').val())
            $('#translatelanguage').hide();
        else
            $('#translatelanguage').show();
        $('.processing').hide();
    }

    function lockedit() {
        if ($('input[[id*="_lock_"]]').is(':checked')) {
            $('input[[id*="_pagename_"]]').attr("disabled", "disabled");
            $('input[[id*="_pagetitle_"]]').attr("disabled", "disabled");
            $('textarea[[id*="_tagwords_"]]').attr("disabled", "disabled");
            $('textarea[[id*="_pagedescription_"]]').attr("disabled", "disabled");
        } else {
            $('input[[id*="_pagename_"]]').removeAttr("disabled");
            $('input[[id*="_pagetitle_"]]').removeAttr("disabled");
            $('textarea[[id*="_tagwords_"]]').removeAttr("disabled");
            $('textarea[[id*="_pagedescription_"]]').removeAttr("disabled");
        }
    }


</script>
<style>
.flag-list{
    background: #f7f7f7;   
    padding: 8px;
}

.flag-list > li {
    display: inline-block;
    /* You can also add some margins here to make it look prettier */
    zoom:1;
    *display:inline;
    /* this fix is needed for IE7- */
}

.flag-list > li > a{
    color: #666666;
    text-decoration: none;
    padding: 3px 8px;
}

.flag-list > li > a:hover{
    color: black;
}

/* .top-panel-right{display: none;}Hide top right menu section */
#loader{opacity:0}
#loader{background: none repeat scroll 0 0 #848D92;color:#ffffff;height: 100%;padding-top: 25%;left: 0;opacity: 0.4;transition:all 0.4s ease-in-out 0s;position: absolute;text-align: center;top: 0;width: 100%;z-index: 9999;}/* Loading graphic */

.container-fluid {
    padding: 0 15px;
}
</style>


<div id="selectparams">
    [<tag id="itemid" type="hidden" value="" />]
    [<tag id="baselang" type="hidden" value="" />]
    [<tag id="selectlang" type="hidden" value="" />]
    [<tag type="currentculture" />]
        
</div>


<ul id="tablist" class="nav nav-tabs">
    <li class="active"><a href="#tabupdate" data-toggle="tab">[<tag type="valueof" resourcekey="View.edittabs" />]</a></li>
    <li><a href="#settingsdiv" data-toggle="tab">[<tag type="valueof" resourcekey="View.settings" />]</a></li>
</ul>
<hr/>
<div id="myTabContent" class="tab-content">
    
    <div id="tabupdate" class="tab-pane fade in active" >
       <div class="container-fluid">            
            <div>
                Page: [<tag id="ddlTabId" type="dropdownlist" cssclass="tabclass" datatabs="blank" />]
                <button id="savetabdata" type="button" class="btn btn-sm btn-success" style="display:none;"><span class="glyphicon glyphicon-floppy-save"></span> [<tag type="valueof" resourcekey="View.save" />]</button>
                <button id="translatelanguage" type="button" class="btn btn-sm btn-primary" style="display:none;"><span class="glyphicon glyphicon-globe"></span> [<tag type="valueof" resourcekey="View.translate" />]</button>    
            </div>

            <div class="row">
                <div class="col-md-5">
                    <h2>[<tag type="valueof" resourcekey="View.base" />]</h2>
                    [<tag id="baselanguage" type="cultureselect" cssclass="flag-list" cssclassli="selectbaselanguage" />]
                    <hr/>
                    <div id="tabbaselanguagefields">
                    </div>
                </div>
        
                <div class="col-md-5">
                    <h2>[<tag type="valueof" resourcekey="View.edit" />]</h2>                                 
                    [<tag id="editlangauge" type="cultureselect" cssclass="flag-list" cssclassli="selecteditlanguage" />]
                    <div id="tablanguagefields">
                    </div>
                </div>

            </div>
        </div>
    </div>

    <div id="settingsdiv" class="tab-pane fade">
        <div class="container-fluid">
            
            <div class="row">
                <div class="col-md-12" >
                    <h2>[<tag type="valueof" resourcekey="View.settings" />]</h2>
                    <button id="savesettings" type="button" class="btn btn-sm btn-success" style="display:none;"><span class="glyphicon glyphicon-floppy-save"></span> Save</button>
                    <div id="settings">      
                    </div>
                </div>
            </div>

        </div>
    </div>

</div>

<div id="loader" class="processing" style="display:none;"><i class="glyphicon glyphicon-cog"></i></div>